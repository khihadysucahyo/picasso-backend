version: '3.3'

services:
  satuankerja:
    build:
      context: ./service-golang
    command: "satuankerja"
    networks:
      - satuankerja
    env_file: 
      - .env-golang

  jabatan:
    build:
      context: ./service-golang
    command: "jabatan"
    networks:
      - jabatan
    env_file: 
      - .env-golang

  eventuser:
    build:
      context: ./service-golang
    command: "eventuser"
    networks:
      - eventuser
    env_file: 
      - .env-golang
    
  jobattendance:
    build:
      context: ./service-golang
    command: "jobattendance"
    networks:
      - jobattendance
    env_file: 
      - .env-golang

networks:
  satuankerja:
    external:
      name: gateway

  jabatan:
    external:
      name: gateway

  eventuser:
    external:
      name: gateway

  jobattendance:
    external:
      name: gateway